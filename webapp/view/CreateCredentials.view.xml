<mvc:View
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    xmlns:l="sap.ui.layout"
    xmlns:form="sap.ui.layout.form"
    controllerName="ESGAdmin.ESGAdmin.controller.CreateCredentials"
>
    <Page title="Client Credentials">
        <customHeader>
            <OverflowToolbar>
                <Button
                    icon="sap-icon://nav-back"
                    tooltip="{i18n>back}"
                    press="onNavBack"
                />
                <Image
                    src="./assets/ESG Kosh.png"
                    class="sapUiMediumMargin"
                    width="60px"
                    press="onHomePress"
                />
                <ToolbarSpacer />
                <Title text="Client Credentials" />
                <ToolbarSpacer />
                <HBox alignItems="Center">
                    <Button
                        icon="sap-icon://bell"
                        tooltip="Notifications"
                        press="onNotificationPress"
                    />
                    <Button
                        icon="sap-icon://log"
                        tooltip="Log Out"
                        press="onLogOut"
                    />
                </HBox>
            </OverflowToolbar>
        </customHeader>
        <content>
            <VBox class="sapUiSmallMargin">
                <IconTabBar id="idIconTabBar">
                    <!-- First Tab -->
                    <items>
                        <IconTabFilter
                            text="Create New"
                            key="locationTab"
                            icon="sap-icon://add"
                        >
                            <VBox class="sapUiSmallMargin">
                                <!-- Form Section -->
                                <form:SimpleForm
                                    editable="true"
                                    layout="ResponsiveGridLayout"
                                    labelSpanL="3"
                                    labelSpanM="3"
                                    columnsL="2"
                                    columnsM="2"
                                    columnsXL="2"
                                    singleContainerFullSize="false"
                                >
                                    <core:Title text="Personal Info" />
                                    <Label
                                        required="true"
                                        text="Name"
                                    />
                                    <Input
                                        id="idName"
                                        placeholder="Enter name"
                                    />
                                    <Label
                                        required="true"
                                        text="Email"
                                    />
                                    <Input
                                        id="idEmail"
                                        placeholder="Enter email"
                                        type="Email"
                                    />
                                    <Label
                                        required="true"
                                        text="Phone"
                                    />
                                    <Input
                                        id="idPhone"
                                        placeholder="Enter phone (include country code, ex: +91-9999999999)"
                                        type="Number"
                                    />
                                    <core:Title text="Choose" />
                                    <Label
                                        required="true"
                                        text="Role"
                                    />
                                    <Select
                                        id="idRole"
                                        selectedKey="Manager"
                                        change="onChangeRole"
                                    >
                                        <core:Item
                                            key="Admin"
                                            text="Admin"
                                        />
                                        <core:Item
                                            key="Manager"
                                            text="Manager"
                                        />
                                    </Select>
                                    <Label text="Branch" />
                                    <MultiInput
                                        id="idBranch"
                                        showValueHelp="true"
                                        valueHelpRequest="onValueHelpRequest"
                                        enabled="true"
                                    />
                                </form:SimpleForm>

                                <!-- Buttons -->
                                <HBox
                                    class="sapUiSmallMarginTop"
                                    layoutData="new sap.ui.layout.GridData({span: 'L6 M6 S12'})"
                                    justifyContent="End"
                                >
                                    <Button
                                        icon="sap-icon://locked"
                                        text="Create"
                                        type="Emphasized"
                                        press="onCreate"
                                    />
                                    <Button
                                        icon="sap-icon://history"
                                        text="Reset"
                                        type="Default"
                                        press="onReset"
                                        class="sapUiTinyMarginBegin"
                                    />
                                    <Button
                                        icon="sap-icon://home"
                                        class="sapUiTinyMarginBegin"
                                        text="Close"
                                        press="onPageClose"
                                    />
                                </HBox>
                            </VBox>
                        </IconTabFilter>
                        <!-- Second Tab -->
                        <IconTabFilter
                            text="Records"
                            key="orgDetailsTab"
                            icon="sap-icon://document-text"
                        >
                            <VBox class="sapUiSmallMargin">
                                <!-- Table Section -->
                                <VBox class="sapUiTinyMarginTop">
                                    <Table
                                        id="organizationTable"
                                        items="{path: 'orgData>/results'}"
                                        class="sapUiTinyMarginTop"
                                    >
                                        <columns>
                                            <Column>
                                                <Text text="Name" />
                                            </Column>
                                            <Column>
                                                <Text text="User Name" />
                                            </Column>
                                            <Column>
                                                <Text text="Role" />
                                            </Column>
                                            <Column>
                                                <Text text="Email" />
                                            </Column>
                                            <Column>
                                                <Text text="Contact" />
                                            </Column>
                                            <Column>
                                                <Text text="Branch" />
                                            </Column>
                                        </columns>
                                        <items>
                                            <ColumnListItem>
                                                <cells>
                                                    <Text
                                                        text="{orgData>name}"
                                                    />
                                                    <Text
                                                        text="{orgData>username}"
                                                    />
                                                    <Text
                                                        text="{orgData>role}"
                                                    />
                                                    <Text
                                                        text="{orgData>email}"
                                                    />
                                                  <Text
                                                        text="{orgData>phone}"
                                                    />
                                                        <Text
                                                        text="{orgData>branch}"
                                                    />
                                                </cells>
                                            </ColumnListItem>
                                        </items>
                                    </Table>
                                </VBox>
                            </VBox>
                        </IconTabFilter>
                    </items>
                </IconTabBar>
            </VBox>
        </content>
        <Dialog
            id="valueHelpDialog"
            title="Value Help"
            afterClose="onCloseDialog"
            contentHeight="700px"
        >
        <customHeader>
            <OverflowToolbar>
                <ToolbarSpacer />
                <Title text="Branch Value Help" />
                <ToolbarSpacer />
                <HBox alignItems="Center">
                    <Button
                        icon="sap-icon://clear-filter"
                        text="Reset Filters"
                        tooltip="Reset Filters"
                        press="onResetFilters"
                    />
                    <Button
                        icon="sap-icon://decline"
                        tooltip="Close"
                        press="onDialogClose"
                    />
                </HBox>
            </OverflowToolbar>
        </customHeader>
            <content>
                <VBox>
                    <!-- Filters -->
                    <HBox class="sapUiSmallMargin">
                    <VBox>
                        <Label text="Country" />
                        <Select
                            width="200px"
                            id="idCountrySearch"
                            items="{filterModel>/countries}"
                            change="onFilterChange"
                        >
                            <core:Item
                                key="{filterModel>key}"
                                text="{filterModel>key}"
                            />
                        </Select>
                    </VBox>

                    <VBox class="sapUiSmallMarginBegin">
                        <Label text="State" />
                        <Select
                            width="200px"
                            id="idStateSearch"
                            items="{filterModel>/states}"
                            change="onFilterChange"
                        >
                            <core:Item
                                key="{filterModel>key}"
                                text="{filterModel>key}"
                            />
                        </Select>
                    </VBox>

                    <VBox class="sapUiSmallMarginBegin">
                        <Label text="District" />
                        <Select
                            width="200px"
                            id="idDistrictSearch"
                            items="{filterModel>/districts}"
                            change="onFilterChange"
                        >
                            <core:Item
                                key="{filterModel>key}"
                                text="{filterModel>key}"
                            />
                        </Select>
                    </VBox>

                    <VBox class="sapUiSmallMarginBegin">
                        <Label text="Block" />
                        <Select
                            width="200px"
                            id="idBlockSearch"
                            items="{filterModel>/blocks}"
                            change="onFilterChange"
                        >
                            <core:Item
                                key="{filterModel>key}"
                                text="{filterModel>key}"
                            />
                        </Select>
                    </VBox>

                    <VBox class="sapUiSmallMarginBegin">
                        <Label text="Type of Office" />
                        <Select id="idOfficeSearch" items="{filterModel>/officeTypes}" change="onFilterChange">
                             <core:Item
                                key="{filterModel>key}"
                                text="{filterModel>key}"
                            />
                        </Select>
                    </VBox>
                </HBox>
                    <!-- Table -->
                    <Table
                        id="valueHelpTable"
                        mode="MultiSelect"
                        items="{branchData>/results}"
                    >
                        <columns>
                            <Column>
                                <Text text="Country" />
                            </Column>
                            <Column>
                                <Text text="State" />
                            </Column>
                            <Column>
                                <Text text="District" />
                            </Column>
                            <Column>
                                <Text text="Block" />
                            </Column>
                            <Column>
                                <Text text="Office Type" />
                            </Column>
                        </columns>
                        <items>
                            <ColumnListItem>
                                <cells>
                                    <Text text="{branchData>country}" />
                                    <Text text="{branchData>state}" />
                                    <Text text="{branchData>district}" />
                                    <Text text="{branchData>block}" />
                                    <Text text="{branchData>officeType}" />
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                </VBox>
            </content>
            <beginButton>
                <Button
                    text="Select"
                    press="onSelectPress"
                />
            </beginButton>
            <endButton>
                <Button
                    text="Close"
                    press="onDialogClose"
                />
            </endButton>
        </Dialog>
    </Page>
</mvc:View>
